{"version":3,"sources":["explore.controllers.js"],"names":[],"mappings":"AAAA,CAAC,YAAW;AACR;;AAEA,cAAU,UAAV,CAAqB,mBAArB,EAA0C,UAAS,MAAT,EAAiB,KAAjB,EAAwB;;AAE9D,eAAO,GAAP,GAAa,sCAAb;AACA,eAAO,GAAP,GAAa,kDAAb;;AAEA;AACA,cAAM,GAAN,CAAU,OAAO,GAAP,GAAa,OAAO,GAA9B,EACK,OADL,CACa,UAAS,IAAT,EAAe;AACpB,mBAAO,KAAP,GAAe,KAAK,KAApB;AACA,mBAAO,KAAP,GAAe,KAAK,KAApB;AACA,mBAAO,WAAP,GAAqB,KAAK,WAA1B;AACH,SALL,EAMK,KANL,CAMW,UAAS,KAAT,EAAe;AAClB,oBAAQ,GAAR,CAAY,KAAZ;AACH,SARL;;AAUA;AACA,YAAI,QAAQ,IAAI,IAAJ,EAAZ;AACA,YAAI,oBAAoB,IAAI,IAAJ,EAAxB;;AAEA,YAAI,MAAM,MAAM,OAAN,KAAgB,CAA1B;AACA,YAAI,aAAa,MAAM,OAAN,KAAgB,CAAjC;AACA,YAAI,QAAQ,MAAM,QAAN,KAAiB,CAA7B;AACA,YAAI,OAAO,MAAM,WAAN,EAAX;;AAEA,YAAG,MAAI,EAAP,EAAW;AACP,kBAAI,MAAI,GAAR;AACH;AACD,YAAG,QAAM,EAAT,EAAa;AACT,oBAAM,MAAI,KAAV;AACH;AACD,gBAAQ,OAAM,GAAN,GAAW,KAAX,GAAkB,GAAlB,GAAuB,GAA/B;AACA,4BAAoB,OAAM,GAAN,GAAW,KAAX,GAAkB,GAAlB,GAAuB,UAA3C;;AAEA;AACA,eAAO,OAAP,GAAiB,iDAAjB;AACA,eAAO,cAAP,GAAwB,CAAC,WAAD,CAAxB;AACA,eAAO,gBAAP,GAA0B,CAAC,aAAD,CAA1B;AACA,eAAO,UAAP,GAAoB,qBAApB;AACA,eAAO,GAAP,GAAa,mDAAb;;AAEA;AACA,cAAM,GAAN,CAAU,OAAO,OAAP,GAAiB,OAAO,cAAxB,GAA0C,OAAO,UAAjD,GAA8D,KAA9D,GAAsE,OAAO,GAAvF,EACK,OADL,CACa,UAAS,MAAT,EAAiB;AACtB,mBAAO,gBAAP,GAA0B,OAAO,MAAjC;AACH,SAHL,EAIK,KAJL,CAIW,UAAS,KAAT,EAAe,CAErB,CANL;;AAQA;AACA,cAAM,GAAN,CAAU,OAAO,OAAP,GAAiB,OAAO,gBAAxB,GAA2C,OAAO,UAAlD,GAA+D,iBAA/D,GAAmF,OAAO,GAApG,EACK,OADL,CACa,UAAS,MAAT,EAAiB;AACtB,mBAAO,kBAAP,GAA4B,OAAO,MAAnC;AACH,SAHL,EAIK,KAJL,CAIW,UAAS,KAAT,EAAe,CAErB,CANL;AAOH,KA1DD;AA2DH,CA9DD","file":"explore.controllers-compiled.js","sourcesContent":["(function() {\n    \"use strict\";\n\n    CosmosApp.controller('ExploreController', function($scope, $http) {\n\n        $scope.url = \"https://api.nasa.gov/planetary/apod?\";\n        $scope.key = \"api_key=NeHYhGtJMXT1kJ9jSP8bnRF2t1IpYShALfGkSKoz\";\n\n        // api call for nasa apod\n        $http.get($scope.url + $scope.key)\n            .success(function(data) {\n                $scope.title = data.title;\n                $scope.hdurl = data.hdurl;\n                $scope.explanation = data.explanation;\n            })\n            .error(function(error){\n                console.log(error);\n            });\n\n        // calculate date for rover requests\n        var today = new Date();\n        var opportunityLatest = new Date();\n\n        var day = today.getDate()-1;\n        var delayedDay = today.getDate()-6;\n        var month = today.getMonth()+1;\n        var year = today.getFullYear();\n\n        if(day<10) {\n            day='0'+day;\n        }\n        if(month<10) {\n            month='0'+month;\n        }\n        today = year+ '-' +month+ '-' +day;\n        opportunityLatest = year+ '-' +month+ '-' +delayedDay;\n\n        // set variables\n        $scope.baseUrl = \"https://api.nasa.gov/mars-photos/api/v1/rovers/\";\n        $scope.curiosityRover = [\"Curiosity\"];\n        $scope.opportunityRover = [\"Opportunity\"];\n        $scope.dateParams = \"/photos?earth_date=\";\n        $scope.key = \"&api_key=NeHYhGtJMXT1kJ9jSP8bnRF2t1IpYShALfGkSKoz\";\n\n        // request for curiosity\n        $http.get($scope.baseUrl + $scope.curiosityRover +  $scope.dateParams + today + $scope.key)\n            .success(function(result) {\n                $scope.curiosity_photos = result.photos;\n            })\n            .error(function(error){\n\n            });\n\n        // request for opportunity\n        $http.get($scope.baseUrl + $scope.opportunityRover + $scope.dateParams + opportunityLatest + $scope.key)\n            .success(function(result) {\n                $scope.opportunity_photos = result.photos;\n            })\n            .error(function(error){\n\n            });\n    });\n})();"]}